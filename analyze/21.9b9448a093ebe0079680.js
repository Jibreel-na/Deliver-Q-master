(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{I9eP:function(t,e,n){"use strict";n.r(e),n.d(e,"NewShipmentModule",(function(){return Ot}));var r=n("Ip0R"),i=n("gIcY"),c=n("A6RZ"),a=n("F5nt"),s=function(){return function(){}}(),o=n("Pe/6"),b=n("CcnG"),l=n("4lrr"),d=n("EApP"),u=n("HHjO"),m=n("A7o+");function f(t,e){1&t&&(b.Vb(0,"div",6),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Gc(b.jc(2,1,"_YouDontHaveAddressesYet")))}function p(t,e){if(1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.ic(3,"translate"),b.Ub()),2&t){var n=b.hc().$implicit;b.Cb(1),b.Kc(", ",b.jc(2,4,"_Floor")," ",n.floor,", ",b.jc(3,6,"_ApartmentNo")," ",n.apartment,", ")}}function g(t,e){if(1&t){var n=b.Wb();b.Vb(0,"div",7),b.Vb(1,"div",8),b.Qb(2,"i",9),b.Vb(3,"div"),b.Fc(4),b.ic(5,"translate"),b.Ec(6,p,4,8,"span",10),b.Ub(),b.Ub(),b.Vb(7,"div",11),b.Qb(8,"i",12),b.Fc(9),b.Ub(),b.Vb(10,"div"),b.Vb(11,"button",13),b.dc("click",(function(){b.xc(n);var t=e.$implicit;return b.hc().selectAddress(t)})),b.Fc(12),b.ic(13,"translate"),b.Ub(),b.Ub(),b.Ub()}if(2&t){var r=e.$implicit;b.Cb(4),b.Lc("",r.cityObj.title," , ",r.area," , ",r.street," , ",r.building," ",b.jc(5,8,"_Building")," "),b.Cb(2),b.nc("ngIf",1!=r.type),b.Cb(3),b.Gc(r.phone),b.Cb(3),b.Gc(b.jc(13,10,"_Select"))}}var h=function(){function t(t,e,n,r,i,c){this.restService=t,this.fb=e,this.matDialogRef=n,this.appService=r,this.dialog=i,this.toastr=c,this.address=[],this.isEmpty=!1,this.matDialogRef.disableClose=!0}return t.prototype.getAddresses=function(){var t=this;this.restService.getAddress().then((function(e){t.address=e.results})).catch((function(e){401===e.error.code&&t.restService.refreshTokenUser()}))},t.prototype.selectAddress=function(t){var e=this;this.matDialogRef.beforeClosed().subscribe((function(){return e.matDialogRef.close(t)})),this.dialog.closeAll()},t.prototype.ngOnInit=function(){this.getAddresses(),this.lang="en"===this.appService.currentLanguage?"ltr":"rtl"},t.\u0275fac=function(e){return new(e||t)(b.Pb(o.a),b.Pb(i.c),b.Pb(l.d),b.Pb(a.a),b.Pb(l.b),b.Pb(d.b))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-address-list"]],decls:8,vars:6,consts:[[1,"text-left","address-list","position-relative",3,"dir"],[1,"text-center"],[1,"position-absolute","close",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],["class","text-center mt",4,"ngIf"],["class","row border p-2 mb-3","style","cursor: pointer",4,"ngFor","ngForOf"],[1,"text-center","mt"],[1,"row","border","p-2","mb-3",2,"cursor","pointer"],[1,"col-md-10","mb-2","d-flex"],["aria-hidden","true",1,"fa","fa-map-marker","text-primary","mr-4"],[4,"ngIf"],[1,"col-md-10"],["aria-hidden","true",1,"fa","fa-phone","text-primary","mr-4"],[1,"btn","btn-primary","float-right","text-white",3,"click"]],template:function(t,e){1&t&&(b.Vb(0,"div",0),b.Vb(1,"h5",1),b.Fc(2),b.ic(3,"translate"),b.Ub(),b.Vb(4,"div",2),b.dc("click",(function(){return e.dialog.closeAll()})),b.Qb(5,"i",3),b.Ub(),b.Ec(6,f,3,3,"div",4),b.Ec(7,g,14,12,"div",5),b.Ub()),2&t&&(b.nc("dir",e.lang),b.Cb(2),b.Gc(b.jc(3,4,"_MyAddresses")),b.Cb(4),b.nc("ngIf",e.isEmpty),b.Cb(1),b.nc("ngForOf",e.address))},directives:[u.b,r.k,r.j],pipes:[m.c],styles:[".address-list[_ngcontent-%COMP%]{max-width:35rem;max-height:30rem}.close[_ngcontent-%COMP%]{right:-18px;top:-18px;font-size:1.5rem}"]}),t}(),v=n("ZYCi"),C=function(){function t(t,e){this.dialog=t,this.matDialogRef=e,this.matDialogRef.disableClose=!0}return t.prototype.saveURL=function(){localStorage.setItem("url","/new-shipment")},t.prototype.loginGuest=function(){var t=this;this.isLogin=1,this.matDialogRef.beforeClosed().subscribe((function(){return t.matDialogRef.close(t.isLogin)})),this.dialog.closeAll()},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(b.Pb(l.b),b.Pb(l.d))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-guest"]],decls:13,vars:12,consts:[[1,"position-relative","guest-dialog","text-center"],[1,"font-weight-normal"],[1,"text-primary",2,"cursor","pointer",3,"click"],["routerLink","/auth/login",1,"text-primary",3,"click"]],template:function(t,e){1&t&&(b.Vb(0,"div",0),b.Vb(1,"h5",1),b.Fc(2),b.ic(3,"translate"),b.Ub(),b.Vb(4,"h5",1),b.Vb(5,"a",2),b.dc("click",(function(){return e.loginGuest()})),b.Fc(6),b.ic(7,"translate"),b.Ub(),b.Fc(8),b.ic(9,"translate"),b.Vb(10,"a",3),b.dc("click",(function(){return e.saveURL(),e.dialog.closeAll()})),b.Fc(11),b.ic(12,"translate"),b.Ub(),b.Ub(),b.Ub()),2&t&&(b.Cb(2),b.Gc(b.jc(3,4,"_ContinueAs")),b.Cb(4),b.Hc(" ",b.jc(7,6,"_Guest"),""),b.Cb(2),b.Hc(" ",b.jc(9,8,"_Or")," "),b.Cb(3),b.Gc(b.jc(12,10,"_Login")))},directives:[v.g],pipes:[m.c],styles:[".close[_ngcontent-%COMP%]{top:0;right:0}.guest-dialog[_ngcontent-%COMP%]{min-width:14rem}"]}),t}(),V=n("dlst"),U=n("UTvR"),y=n("fPVg");function _(t,e){1&t&&(b.Vb(0,"mat-error"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_VerificationCodeRequired")," "))}var F=function(){function t(t,e,n,r,i){this.fb=t,this.dialog=e,this.toastr=n,this.restService=r,this.matDialogRef=i,this.data=new s,this.matDialogRef.disableClose=!0}return Object.defineProperty(t.prototype,"f",{get:function(){return this.userForm.controls},enumerable:!0,configurable:!0}),t.prototype.prepareForm=function(){this.userForm=this.fb.group({otp:["",[i.s.required]]})},t.prototype.createShipment=function(){var t=this;this.data.otp=this.f.otp.value,this.restService.createShipmentGuest(this.data).then((function(e){t.toastr.success("The Shipment has been created successfully",""),t.matDialogRef.beforeClosed().subscribe((function(){return t.matDialogRef.close(e)})),t.matDialogRef.close()})).catch((function(e){e.status&&t.toastr.error(e.error.message,"")}))},t.prototype.ngOnInit=function(){this.prepareForm()},t.\u0275fac=function(e){return new(e||t)(b.Pb(i.c),b.Pb(l.b),b.Pb(d.b),b.Pb(o.a),b.Pb(l.d))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-verification-guest"]],decls:20,vars:14,consts:[[1,"verification-dialog"],[1,"title"],[3,"formGroup"],["appearance","legacy",1,"w-100"],["matInput","","placeholder","","formControlName","otp","maxlength","4"],["matSuffix",""],[4,"ngIf"],[1,"text-right"],[1,"btn","btn-secondary","mx-1",3,"click"],[1,"btn","btn-success","mx-1",3,"click"]],template:function(t,e){1&t&&(b.Vb(0,"div",0),b.Vb(1,"p",1),b.Fc(2),b.ic(3,"translate"),b.Ub(),b.Vb(4,"form",2),b.Vb(5,"mat-form-field",3),b.Vb(6,"mat-label"),b.Fc(7),b.ic(8,"translate"),b.Ub(),b.Qb(9,"input",4),b.Vb(10,"mat-icon",5),b.Fc(11,"vpn_key"),b.Ub(),b.Ec(12,_,3,3,"mat-error",6),b.Ub(),b.Vb(13,"div",7),b.Vb(14,"button",8),b.dc("click",(function(){return e.createShipment()})),b.Fc(15),b.ic(16,"translate"),b.Ub(),b.Vb(17,"button",9),b.dc("click",(function(){return e.dialog.closeAll()})),b.Fc(18),b.ic(19,"translate"),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&t&&(b.Cb(2),b.Gc(b.jc(3,6,"_PleaseEnterPhone")),b.Cb(2),b.nc("formGroup",e.userForm),b.Cb(3),b.Gc(b.jc(8,8,"_VerificationCode")),b.Cb(5),b.nc("ngIf",e.userForm.get("otp").hasError("required")),b.Cb(3),b.Gc(b.jc(16,10,"_Submit")),b.Cb(3),b.Gc(b.jc(19,12,"_Close")))},directives:[i.u,i.m,i.f,V.c,V.f,U.b,i.b,i.l,i.e,i.h,y.a,V.h,r.k,V.b],pipes:[m.c],styles:[".verification-dialog[_ngcontent-%COMP%]{min-width:20rem}.verification-dialog[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px}"]}),t}(),A=n("d5t/"),x=n("FqGj"),w=n("8KZq"),j=n("eO+G");function O(t,e){1&t&&(b.Vb(0,"mat-error"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_FirstNameRequired")," "))}function P(t,e){1&t&&(b.Vb(0,"mat-error"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_LastNameRequired")," "))}function I(t,e){if(1&t&&(b.Vb(0,"div",40),b.Vb(1,"h4",41),b.Fc(2),b.ic(3,"translate"),b.Ub(),b.Vb(4,"form",42),b.Vb(5,"div",43),b.Vb(6,"mat-form-field",44),b.Vb(7,"mat-label"),b.Fc(8),b.ic(9,"translate"),b.Ub(),b.Qb(10,"input",45),b.Vb(11,"mat-icon",46),b.Fc(12,"sentiment_satisfied_alt"),b.Ub(),b.Ec(13,O,3,3,"mat-error",15),b.Ub(),b.Vb(14,"mat-form-field",47),b.Vb(15,"mat-label"),b.Fc(16),b.ic(17,"translate"),b.Ub(),b.Qb(18,"input",48),b.Vb(19,"mat-icon",46),b.Fc(20,"sentiment_satisfied_alt"),b.Ub(),b.Ec(21,P,3,3,"mat-error",15),b.Ub(),b.Ub(),b.Vb(22,"div",43),b.Vb(23,"mat-form-field",47),b.Vb(24,"mat-label"),b.Fc(25),b.ic(26,"translate"),b.Ub(),b.Qb(27,"input",49),b.Vb(28,"mat-icon",46),b.Fc(29,"alternate_email"),b.Ub(),b.Vb(30,"mat-error"),b.Fc(31),b.ic(32,"translate"),b.Ub(),b.Ub(),b.Vb(33,"mat-form-field",50),b.Vb(34,"mat-label"),b.Fc(35),b.ic(36,"translate"),b.Ub(),b.Vb(37,"span",51),b.Fc(38,"+971 \xa0"),b.Ub(),b.Qb(39,"input",52),b.Vb(40,"mat-icon",46),b.Fc(41,"mode_edit"),b.Ub(),b.Vb(42,"mat-error"),b.Fc(43),b.ic(44,"translate"),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&t){var n=b.hc();b.Cb(2),b.Gc(b.jc(3,10,"_UserInfo")),b.Cb(2),b.nc("formGroup",n.userForm),b.Cb(4),b.Gc(b.jc(9,12,"_FirstName")),b.Cb(5),b.nc("ngIf",n.userForm.get("first_name").hasError("required")),b.Cb(3),b.Gc(b.jc(17,14,"_LastName")),b.Cb(5),b.nc("ngIf",n.userForm.get("last_name").hasError("required")),b.Cb(4),b.Gc(b.jc(26,16,"_Email")),b.Cb(6),b.Hc(" ",b.jc(32,18,"_EmailNotValid")," "),b.Cb(4),b.Gc(b.jc(36,20,"_Mobile")),b.Cb(8),b.Hc(" ",b.jc(44,22,"_MobileRequired")," ")}}function M(t,e){if(1&t){var n=b.Wb();b.Vb(0,"div",53),b.Vb(1,"button",54),b.dc("click",(function(){b.xc(n);var t=b.hc();return t.listAddress("from"),t.isNewAddress=!1})),b.Fc(2),b.ic(3,"translate"),b.Ub(),b.Vb(4,"div"),b.Vb(5,"h6",55),b.Fc(6),b.ic(7,"translate"),b.Ub(),b.Ub(),b.Vb(8,"div",56),b.dc("click",(function(){b.xc(n);var t=b.hc();return t.isNewAddress=!0,t.fromAddress=null})),b.Vb(9,"button",57),b.Qb(10,"i",58),b.Fc(11),b.ic(12,"translate"),b.Ub(),b.Ub(),b.Ub()}2&t&&(b.Cb(2),b.Hc("",b.jc(3,3,"_SelectSavedAddresses")," "),b.Cb(4),b.Gc(b.jc(7,5,"_Or")),b.Cb(5),b.Hc("",b.jc(12,7,"_AddAddress")," "))}function S(t,e){1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Gc(b.jc(2,1,"_SelectLocation")))}function G(t,e){1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Gc(b.jc(2,1,"_UpdateLocation")))}function k(t,e){if(1&t){var n=b.Wb();b.Vb(0,"mat-option",83),b.dc("click",(function(){b.xc(n);var t=e.$implicit;return b.hc(3).c.from.setValue(t._id)})),b.Fc(1),b.Ub()}if(2&t){var r=e.$implicit;b.nc("value",r._id),b.Cb(1),b.Hc(" ",r.title," ")}}function E(t,e){1&t&&(b.Vb(0,"mat-error"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_ThisFiledIsRequired")," "))}function q(t,e){1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_ApartmentNO")," "))}function H(t,e){1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_OfficeNo")," "))}function Q(t,e){if(1&t&&(b.Vb(0,"mat-form-field",23),b.Vb(1,"mat-label"),b.Ec(2,q,3,3,"span",15),b.Ec(3,H,3,3,"span",15),b.Ub(),b.Qb(4,"input",84),b.Ub()),2&t){var n=b.hc(3);b.Cb(2),b.nc("ngIf",1==n.startAddress.type.value),b.Cb(1),b.nc("ngIf",3==n.startAddress.type.value)}}function T(t,e){1&t&&(b.Vb(0,"div"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Gc(b.jc(2,1,"_ThisFiledIsRequired")))}function N(t,e){if(1&t&&(b.Vb(0,"div",85),b.Ec(1,T,3,3,"div",15),b.Ub()),2&t){var n=b.hc(3);b.Cb(1),b.nc("ngIf",1!=n.startAddress.type.value&&0==n.startAddress.apartment.value.length)}}function R(t,e){1&t&&(b.Vb(0,"mat-form-field",23),b.Vb(1,"mat-label"),b.Fc(2),b.ic(3,"translate"),b.Ub(),b.Qb(4,"input",86),b.Ub()),2&t&&(b.Cb(2),b.Gc(b.jc(3,1,"_Floor")))}function L(t,e){1&t&&(b.Vb(0,"div"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Gc(b.jc(2,1,"_ThisFiledIsRequired")))}function W(t,e){if(1&t&&(b.Vb(0,"div",87),b.Ec(1,L,3,3,"div",15),b.Ub()),2&t){var n=b.hc(3);b.Cb(1),b.nc("ngIf",1!=n.startAddress.type.value&&0==n.startAddress.floor.value.length)}}function D(t,e){1&t&&(b.Vb(0,"mat-error"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_ThisFiledIsRequired")," "))}function $(t,e){if(1&t){var n=b.Wb();b.Vb(0,"div",88),b.Vb(1,"button",89),b.dc("click",(function(){return b.xc(n),b.hc(3).addAddress("from")})),b.Fc(2),b.ic(3,"translate"),b.Ub(),b.Ub()}if(2&t){var r=b.hc(3);b.Cb(1),b.nc("disabled",r.StartAddress.invalid),b.Cb(1),b.Gc(b.jc(3,2,"_AddAddress"))}}function z(t,e){if(1&t){var n=b.Wb();b.Vb(0,"form",64),b.Vb(1,"div",65),b.Vb(2,"div",66),b.dc("click",(function(){return b.xc(n),b.hc(2).startAddress.type.setValue(1)})),b.Qb(3,"i",67),b.Fc(4),b.ic(5,"translate"),b.Ub(),b.Vb(6,"div",66),b.dc("click",(function(){return b.xc(n),b.hc(2).startAddress.type.setValue(3)})),b.Qb(7,"i",68),b.Fc(8),b.ic(9,"translate"),b.Ub(),b.Ub(),b.Vb(10,"mat-form-field",69),b.Vb(11,"mat-label"),b.Fc(12),b.ic(13,"translate"),b.Ub(),b.Vb(14,"mat-select",70),b.dc("selectionChange",(function(){b.xc(n);var t=b.hc(2);return t.selectCity(),t.f.cost.setValue("")})),b.Ec(15,k,2,2,"mat-option",71),b.Ub(),b.Ec(16,E,3,3,"mat-error",15),b.Ub(),b.Vb(17,"mat-form-field",72),b.Vb(18,"mat-label"),b.Fc(19),b.ic(20,"translate"),b.Ub(),b.Qb(21,"input",73),b.Vb(22,"mat-error"),b.Fc(23),b.ic(24,"translate"),b.Ub(),b.Ub(),b.Vb(25,"mat-form-field",23),b.Vb(26,"mat-label"),b.Fc(27),b.ic(28,"translate"),b.Ub(),b.Vb(29,"span",51),b.Fc(30,"+971 \xa0"),b.Ub(),b.Qb(31,"input",52),b.Vb(32,"mat-icon",46),b.Fc(33,"mode_edit"),b.Ub(),b.Vb(34,"mat-error"),b.Fc(35),b.ic(36,"translate"),b.Ub(),b.Ub(),b.Ec(37,Q,5,2,"mat-form-field",74),b.Ec(38,N,2,1,"div",75),b.Ec(39,R,5,3,"mat-form-field",74),b.Ec(40,W,2,1,"div",76),b.Vb(41,"mat-form-field",23),b.Vb(42,"mat-label"),b.Fc(43),b.ic(44,"translate"),b.Ub(),b.Qb(45,"input",77),b.Ec(46,D,3,3,"mat-error",15),b.Ub(),b.Vb(47,"mat-form-field",23),b.Vb(48,"mat-label"),b.Fc(49),b.ic(50,"translate"),b.Ub(),b.Qb(51,"input",78),b.Vb(52,"mat-error"),b.Fc(53),b.ic(54,"translate"),b.Ub(),b.Ub(),b.Vb(55,"mat-form-field",23),b.Vb(56,"mat-label"),b.Fc(57),b.ic(58,"translate"),b.ic(59,"translate"),b.Ub(),b.Qb(60,"input",79),b.Ub(),b.Vb(61,"mat-form-field",23),b.Vb(62,"mat-label"),b.Fc(63),b.ic(64,"translate"),b.Vb(65,"span",80),b.Fc(66),b.ic(67,"translate"),b.Ub(),b.Ub(),b.Qb(68,"input",81),b.Ub(),b.Ec(69,$,4,4,"div",82),b.Ub()}if(2&t){var r=b.hc(2);b.nc("formGroup",r.StartAddress)("dir",r.appService.lang),b.Cb(2),b.nc("ngClass",1==r.startAddress.type.value?"bg-primary":""),b.Cb(1),b.nc("ngClass",1==r.startAddress.type.value?"text-white":""),b.Cb(1),b.Hc(" ",b.jc(5,28,"_House")," "),b.Cb(2),b.nc("ngClass",3==r.startAddress.type.value?"bg-primary":""),b.Cb(1),b.nc("ngClass",3==r.startAddress.type.value?"text-white":""),b.Cb(1),b.Hc(" ",b.jc(9,30,"_Office")," "),b.Cb(4),b.Gc(b.jc(13,32,"_SelectCity")),b.Cb(3),b.nc("ngForOf",r.appService.cities),b.Cb(1),b.nc("ngIf",r.StartAddress.get("city").hasError("required")),b.Cb(3),b.Gc(b.jc(20,34,"_FullName")),b.Cb(4),b.Hc(" ",b.jc(24,36,"_ThisFiledIsRequired")," "),b.Cb(4),b.Gc(b.jc(28,38,"_Mobile")),b.Cb(8),b.Hc(" ",b.jc(36,40,"_MobileRequired")," "),b.Cb(2),b.nc("ngIf",1!=r.startAddress.type.value),b.Cb(1),b.nc("ngIf",r.startAddress.apartment.dirty||r.startAddress.apartment.touched),b.Cb(1),b.nc("ngIf",1!=r.startAddress.type.value),b.Cb(1),b.nc("ngIf",r.startAddress.floor.dirty||r.startAddress.floor.touched),b.Cb(3),b.Gc(b.jc(44,42,"_Building")),b.Cb(3),b.nc("ngIf",r.StartAddress.get("building").hasError("required")),b.Cb(3),b.Gc(b.jc(50,44,"_Area")),b.Cb(4),b.Hc(" ",b.jc(54,46,"_ThisFiledIsRequired")," "),b.Cb(4),b.Ic("",b.jc(58,48,"_Street")," (",b.jc(59,50,"_Optional"),")"),b.Cb(6),b.Hc("",b.jc(64,52,"_AdditionalInformation")," "),b.Cb(3),b.Hc("(",b.jc(67,54,"_Optional"),")"),b.Cb(3),b.nc("ngIf",!r.guest)}}function J(t,e){if(1&t){var n=b.Wb();b.Vb(0,"div"),b.Vb(1,"div",59),b.Vb(2,"div"),b.Qb(3,"img",60),b.Ub(),b.Vb(4,"div",61),b.Vb(5,"button",62),b.dc("click",(function(){return b.xc(n),b.hc().openMap("from")})),b.Ec(6,S,3,3,"span",15),b.Ec(7,G,3,3,"span",15),b.Ub(),b.Ub(),b.Ub(),b.Ec(8,z,70,56,"form",63),b.Ub()}if(2&t){var r=b.hc();b.Cb(5),b.nc("ngClass",r.startAddress.lng.value&&r.startAddress.lat.value?"btn-primary":"btn-secondary"),b.Cb(1),b.nc("ngIf",!r.startAddress.lng.value||!r.startAddress.lat.value),b.Cb(1),b.nc("ngIf",r.startAddress.lng.value&&r.startAddress.lat.value),b.Cb(1),b.nc("ngIf",r.startAddress.lng.value&&r.startAddress.lat.value)}}function K(t,e){if(1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.ic(3,"translate"),b.Ub()),2&t){var n=b.hc(2);b.Cb(1),b.Kc(", ",b.jc(2,4,"_Floor")," ",n.fromAddress.floor," , ",b.jc(3,6,"_ApartmentNo")," ",n.fromAddress.apartment,", ")}}function Y(t,e){if(1&t&&(b.Vb(0,"div"),b.Vb(1,"div",90),b.Qb(2,"i",91),b.Vb(3,"div"),b.Fc(4),b.ic(5,"translate"),b.Ec(6,K,4,8,"span",15),b.Ub(),b.Ub(),b.Vb(7,"div",24),b.Qb(8,"i",92),b.Fc(9),b.Ub(),b.Ub()),2&t){var n=b.hc();b.Cb(4),b.Lc("",n.fromAddress.cityObj.title," , ",n.fromAddress.area," , ",n.fromAddress.street," , ",n.fromAddress.building," ",b.jc(5,7,"_Building")," "),b.Cb(2),b.nc("ngIf",1!=n.fromAddress.type),b.Cb(3),b.Gc(n.fromAddress.phone)}}function B(t,e){if(1&t){var n=b.Wb();b.Vb(0,"div",53),b.Vb(1,"button",54),b.dc("click",(function(){b.xc(n);var t=b.hc();return t.isToAddress=!1,t.listAddress("to")})),b.Fc(2),b.ic(3,"translate"),b.Ub(),b.Vb(4,"div",93),b.Vb(5,"h6",55),b.Fc(6),b.ic(7,"translate"),b.Ub(),b.Ub(),b.Vb(8,"div",56),b.dc("click",(function(){b.xc(n);var t=b.hc();return t.isToAddress=!0,t.targetAddress=null})),b.Vb(9,"button",57),b.Qb(10,"i",58),b.Fc(11),b.ic(12,"translate"),b.Ub(),b.Ub(),b.Ub()}2&t&&(b.Cb(2),b.Hc("",b.jc(3,3,"_SelectSavedAddresses")," "),b.Cb(4),b.Gc(b.jc(7,5,"_Or")),b.Cb(5),b.Hc("",b.jc(12,7,"_AddAddress")," "))}function Z(t,e){1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Gc(b.jc(2,1,"_SelectLocation")))}function X(t,e){1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Gc(b.jc(2,1,"_UpdateLocation")))}function tt(t,e){if(1&t){var n=b.Wb();b.Vb(0,"mat-option",83),b.dc("click",(function(){b.xc(n);var t=e.$implicit;return b.hc(3).c.to.setValue(t._id)})),b.Fc(1),b.Ub()}if(2&t){var r=e.$implicit;b.nc("value",r._id),b.Cb(1),b.Hc(" ",r.title," ")}}function et(t,e){1&t&&(b.Vb(0,"mat-error"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_ThisFiledIsRequired")," "))}function nt(t,e){1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_ApartmentNO")," "))}function rt(t,e){1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_OfficeNo")," "))}function it(t,e){if(1&t&&(b.Vb(0,"mat-form-field",23),b.Vb(1,"mat-label"),b.Ec(2,nt,3,3,"span",15),b.Ec(3,rt,3,3,"span",15),b.Ub(),b.Qb(4,"input",84),b.Ub()),2&t){var n=b.hc(3);b.Cb(2),b.nc("ngIf",1==n.toAddress.type.value),b.Cb(1),b.nc("ngIf",3==n.toAddress.type.value)}}function ct(t,e){1&t&&(b.Vb(0,"div"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Gc(b.jc(2,1,"_ThisFiledIsRequired")))}function at(t,e){if(1&t&&(b.Vb(0,"div",85),b.Ec(1,ct,3,3,"div",15),b.Ub()),2&t){var n=b.hc(3);b.Cb(1),b.nc("ngIf",1!=n.toAddress.type.value&&0==n.toAddress.apartment.value.length)}}function st(t,e){1&t&&(b.Vb(0,"mat-form-field",23),b.Vb(1,"mat-label"),b.Fc(2),b.ic(3,"translate"),b.Ub(),b.Qb(4,"input",86),b.Ub()),2&t&&(b.Cb(2),b.Gc(b.jc(3,1,"_Floor")))}function ot(t,e){1&t&&(b.Vb(0,"div"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Gc(b.jc(2,1,"_ThisFiledIsRequired")))}function bt(t,e){if(1&t&&(b.Vb(0,"div",87),b.Ec(1,ot,3,3,"div",15),b.Ub()),2&t){var n=b.hc(3);b.Cb(1),b.nc("ngIf",1!=n.toAddress.type.value&&0==n.toAddress.floor.value.length)}}function lt(t,e){1&t&&(b.Vb(0,"mat-error"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_ThisFiledIsRequired")," "))}function dt(t,e){1&t&&(b.Vb(0,"mat-error"),b.Fc(1),b.ic(2,"translate"),b.Ub()),2&t&&(b.Cb(1),b.Hc(" ",b.jc(2,1,"_ThisFiledIsRequired")," "))}function ut(t,e){if(1&t){var n=b.Wb();b.Vb(0,"div",88),b.Vb(1,"button",89),b.dc("click",(function(){return b.xc(n),b.hc(3).addAddress("to")})),b.Fc(2),b.ic(3,"translate"),b.Ub(),b.Ub()}if(2&t){var r=b.hc(3);b.Cb(1),b.nc("disabled",r.endAddress.invalid),b.Cb(1),b.Gc(b.jc(3,2,"_AddAddress"))}}function mt(t,e){if(1&t){var n=b.Wb();b.Vb(0,"form",64),b.Vb(1,"div",65),b.Vb(2,"div",66),b.dc("click",(function(){return b.xc(n),b.hc(2).toAddress.type.setValue(1)})),b.Qb(3,"i",67),b.Fc(4),b.ic(5,"translate"),b.Ub(),b.Vb(6,"div",66),b.dc("click",(function(){return b.xc(n),b.hc(2).toAddress.type.setValue(3)})),b.Qb(7,"i",68),b.Fc(8),b.ic(9,"translate"),b.Ub(),b.Ub(),b.Vb(10,"mat-form-field",69),b.Vb(11,"mat-label"),b.Fc(12),b.ic(13,"translate"),b.Ub(),b.Vb(14,"mat-select",70),b.dc("selectionChange",(function(){b.xc(n);var t=b.hc(2);return t.selectCity(),t.f.cost.setValue("")})),b.Ec(15,tt,2,2,"mat-option",71),b.Ub(),b.Ec(16,et,3,3,"mat-error",15),b.Ub(),b.Vb(17,"mat-form-field",72),b.Vb(18,"mat-label"),b.Fc(19),b.ic(20,"translate"),b.Ub(),b.Qb(21,"input",73),b.Vb(22,"mat-error"),b.Fc(23),b.ic(24,"translate"),b.Ub(),b.Ub(),b.Vb(25,"mat-form-field",23),b.Vb(26,"mat-label"),b.Fc(27),b.ic(28,"translate"),b.Ub(),b.Vb(29,"span",51),b.Fc(30,"+971 \xa0"),b.Ub(),b.Qb(31,"input",52),b.Vb(32,"mat-icon",46),b.Fc(33,"mode_edit"),b.Ub(),b.Vb(34,"mat-error"),b.Fc(35),b.ic(36,"translate"),b.Ub(),b.Ub(),b.Ec(37,it,5,2,"mat-form-field",74),b.Ec(38,at,2,1,"div",75),b.Ec(39,st,5,3,"mat-form-field",74),b.Ec(40,bt,2,1,"div",76),b.Vb(41,"mat-form-field",23),b.Vb(42,"mat-label"),b.Fc(43),b.ic(44,"translate"),b.Ub(),b.Qb(45,"input",77),b.Ec(46,lt,3,3,"mat-error",15),b.Ub(),b.Vb(47,"mat-form-field",23),b.Vb(48,"mat-label"),b.Fc(49),b.ic(50,"translate"),b.Ub(),b.Qb(51,"input",78),b.Vb(52,"mat-error"),b.Fc(53),b.ic(54,"translate"),b.Ub(),b.Ub(),b.Vb(55,"mat-form-field",23),b.Vb(56,"mat-label"),b.Fc(57),b.ic(58,"translate"),b.Vb(59,"span",80),b.Fc(60),b.ic(61,"translate"),b.Ub(),b.Ub(),b.Qb(62,"input",79),b.Ec(63,dt,3,3,"mat-error",15),b.Ub(),b.Vb(64,"mat-form-field",23),b.Vb(65,"mat-label"),b.Fc(66),b.ic(67,"translate"),b.Vb(68,"span",80),b.Fc(69),b.ic(70,"translate"),b.Ub(),b.Ub(),b.Qb(71,"input",81),b.Ub(),b.Ec(72,ut,4,4,"div",82),b.Ub()}if(2&t){var r=b.hc(2);b.nc("formGroup",r.endAddress)("dir",r.appService.lang),b.Cb(2),b.nc("ngClass",1==r.toAddress.type.value?"bg-primary":""),b.Cb(1),b.nc("ngClass",1==r.toAddress.type.value?"text-white":""),b.Cb(1),b.Hc(" ",b.jc(5,29,"_House")," "),b.Cb(2),b.nc("ngClass",3==r.toAddress.type.value?"bg-primary":""),b.Cb(1),b.nc("ngClass",3==r.toAddress.type.value?"text-white":""),b.Cb(1),b.Hc(" ",b.jc(9,31,"_Office")," "),b.Cb(4),b.Gc(b.jc(13,33,"_SelectCity")),b.Cb(3),b.nc("ngForOf",r.appService.cities),b.Cb(1),b.nc("ngIf",r.StartAddress.get("city").hasError("required")),b.Cb(3),b.Gc(b.jc(20,35,"_FullName")),b.Cb(4),b.Hc(" ",b.jc(24,37,"_ThisFiledIsRequired")," "),b.Cb(4),b.Gc(b.jc(28,39,"_Mobile")),b.Cb(8),b.Hc(" ",b.jc(36,41,"_MobileRequired")," "),b.Cb(2),b.nc("ngIf",1!=r.toAddress.type.value),b.Cb(1),b.nc("ngIf",r.toAddress.apartment.dirty||r.toAddress.apartment.touched),b.Cb(1),b.nc("ngIf",1!=r.toAddress.type.value),b.Cb(1),b.nc("ngIf",r.toAddress.floor.dirty||r.toAddress.floor.touched),b.Cb(3),b.Gc(b.jc(44,43,"_Building")),b.Cb(3),b.nc("ngIf",r.StartAddress.get("building").hasError("required")),b.Cb(3),b.Gc(b.jc(50,45,"_Area")),b.Cb(4),b.Hc(" ",b.jc(54,47,"_ThisFiledIsRequired")," "),b.Cb(4),b.Hc("",b.jc(58,49,"_Street")," "),b.Cb(3),b.Hc("(",b.jc(61,51,"_Optional"),")"),b.Cb(3),b.nc("ngIf",r.StartAddress.get("street").hasError("required")),b.Cb(3),b.Hc("",b.jc(67,53,"_AdditionalInformation")," "),b.Cb(3),b.Hc("(",b.jc(70,55,"_Optional"),")"),b.Cb(3),b.nc("ngIf",!r.guest)}}function ft(t,e){if(1&t){var n=b.Wb();b.Vb(0,"div"),b.Vb(1,"div",59),b.Vb(2,"div"),b.Qb(3,"img",60),b.Ub(),b.Vb(4,"div",61),b.Vb(5,"button",62),b.dc("click",(function(){return b.xc(n),b.hc().openMap("to")})),b.Ec(6,Z,3,3,"span",15),b.Ec(7,X,3,3,"span",15),b.Ub(),b.Ub(),b.Ub(),b.Ec(8,mt,73,57,"form",63),b.Ub()}if(2&t){var r=b.hc();b.Cb(5),b.nc("ngClass",r.toAddress.lng.value&&r.toAddress.lat.value?"btn-primary":"btn-secondary"),b.Cb(1),b.nc("ngIf",!r.toAddress.lng.value||!r.toAddress.lat.value),b.Cb(1),b.nc("ngIf",r.toAddress.lng.value&&r.toAddress.lat.value),b.Cb(1),b.nc("ngIf",r.toAddress.lng.value&&r.toAddress.lat.value)}}function pt(t,e){if(1&t&&(b.Vb(0,"span"),b.Fc(1),b.ic(2,"translate"),b.ic(3,"translate"),b.Ub()),2&t){var n=b.hc(2);b.Cb(1),b.Kc(", ",b.jc(2,4,"_Floor")," ",n.targetAddress.floor," , ",b.jc(3,6,"_ApartmentNo")," ",n.targetAddress.apartment,", ")}}function gt(t,e){if(1&t&&(b.Vb(0,"div"),b.Vb(1,"div",90),b.Qb(2,"i",91),b.Vb(3,"div"),b.Fc(4),b.ic(5,"translate"),b.Ec(6,pt,4,8,"span",15),b.Ub(),b.Ub(),b.Vb(7,"div",24),b.Qb(8,"i",92),b.Fc(9),b.Ub(),b.Ub()),2&t){var n=b.hc();b.Cb(4),b.Lc("",n.targetAddress.cityObj.title," , ",n.targetAddress.area," , ",n.targetAddress.street," , ",n.targetAddress.building," ",b.jc(5,7,"_Building")," "),b.Cb(2),b.nc("ngIf",1!=n.targetAddress.type),b.Cb(3),b.Gc(n.targetAddress.phone)}}function ht(t,e){if(1&t){var n=b.Wb();b.Vb(0,"div",23),b.Vb(1,"textarea",106),b.dc("keyup",(function(t){return b.xc(n),b.hc(3).f.comments.setValue(t.target.value)})),b.ic(2,"translate"),b.Ub(),b.Ub()}if(2&t){var r=b.hc(3);b.Cb(1),b.oc("placeholder",b.jc(2,2,"_WhatDoYouWantToShip")),b.nc("value",r.f.comments.value)}}function vt(t,e){if(1&t){var n=b.Wb();b.Tb(0),b.Vb(1,"div",100),b.dc("click",(function(){b.xc(n);var t=e.$implicit,r=b.hc().$implicit,i=b.hc();return i.c.category.setValue(r._id),i.f.subCategory.setValue(t._id),i.f.other.setValue(t.other),i.selectedCategory=t.title,i.f.cost.setValue("")})),b.Vb(2,"div",101),b.Vb(3,"p",102),b.Qb(4,"img",103),b.Vb(5,"span"),b.Fc(6),b.Ub(),b.Ub(),b.Ub(),b.Vb(7,"div",104),b.Qb(8,"div",105),b.Ub(),b.Ub(),b.Ec(9,ht,3,4,"div",74),b.Sb()}if(2&t){var r=e.$implicit,i=b.hc(2);b.Cb(4),b.nc("src",i.appService.fileUrl+r.icon,b.zc),b.Cb(2),b.Gc(r.title),b.Cb(2),b.nc("ngClass",i.f.subCategory.value==r._id?"bg-primary":"bg-success"),b.Cb(1),b.nc("ngIf",1===r.other&&i.f.subCategory.value===r._id)}}function Ct(t,e){if(1&t&&(b.Vb(0,"div",94),b.Vb(1,"mat-accordion",95),b.Vb(2,"mat-expansion-panel",96),b.Vb(3,"mat-expansion-panel-header"),b.Vb(4,"mat-panel-title"),b.Qb(5,"img",97),b.Vb(6,"span",98),b.Fc(7),b.Ub(),b.Ub(),b.Vb(8,"mat-panel-description",13),b.Fc(9),b.ic(10,"translate"),b.ic(11,"translate"),b.Ub(),b.Ub(),b.Ec(12,vt,10,4,"ng-container",99),b.Ub(),b.Ub(),b.Ub()),2&t){var n=e.$implicit,r=b.hc();b.Cb(2),b.nc("expanded",!0),b.Cb(3),b.nc("src",r.appService.fileUrl+n.icon,b.zc),b.Cb(2),b.Gc(n.title),b.Cb(2),b.Jc(" ",b.jc(10,7,"_UpTo")," ",n.weight," ",b.jc(11,9,"_KG")," "),b.Cb(3),b.nc("ngForOf",n.SubCategories)}}function Vt(t,e){if(1&t){var n=b.Wb();b.Vb(0,"button",107),b.dc("click",(function(){return b.xc(n),b.hc().calculator()})),b.Fc(1),b.ic(2,"translate"),b.Ub()}if(2&t){var r=b.hc();b.nc("disabled",r.calculatorForm.invalid||1===r.f.other.value&&!r.f.comments.value)("ngClass",r.calculatorForm.invalid||1===r.f.other.value&&!r.f.comments.value?"bg-gray text-secondary":"btn-secondary text-white"),b.Cb(1),b.Gc(b.jc(2,3,"_Calculate"))}}function Ut(t,e){if(1&t){var n=b.Wb();b.Vb(0,"button",108),b.dc("click",(function(){return b.xc(n),b.hc().calculator()})),b.Fc(1),b.ic(2,"translate"),b.Ub()}if(2&t){var r=b.hc();b.nc("disabled",r.StartAddress.invalid||r.endAddress.invalid||r.userForm.invalid||r.calculatorForm.invalid||1===r.f.other.value&&!r.f.comments.value),b.Cb(1),b.Gc(b.jc(2,2,"_Calculate"))}}function yt(t,e){if(1&t){var n=b.Wb();b.Vb(0,"div",129),b.Vb(1,"div",130),b.dc("click",(function(){b.xc(n);var t=e.$implicit;return b.hc(2).f.type.setValue(t._id)})),b.Vb(2,"div",131),b.Qb(3,"img",132),b.Vb(4,"p"),b.Fc(5),b.Ub(),b.Ub(),b.Vb(6,"div",133),b.Vb(7,"p"),b.Fc(8),b.Ub(),b.Vb(9,"h6"),b.Fc(10),b.ic(11,"translate"),b.Ub(),b.Ub(),b.Ub(),b.Ub()}if(2&t){var r=e.$implicit,i=b.hc(2);b.Cb(1),b.nc("ngClass",i.f.type.value==r._id?"active-type":"unactive-type"),b.Cb(2),b.nc("src",i.appService.fileUrl+r.image,b.zc),b.Cb(2),b.Gc(r.duration),b.Cb(3),b.Gc(r.title),b.Cb(2),b.Ic("",r.price+i.f.cost.value," ",b.jc(11,6,"_AED"),"")}}function _t(t,e){if(1&t){var n=b.Wb();b.Vb(0,"button",134),b.dc("click",(function(){return b.xc(n),b.hc(2).createShipment()})),b.Fc(1),b.ic(2,"translate"),b.Ub()}if(2&t){var r=b.hc(2);b.nc("disabled",r.calculatorForm.invalid||!r.f.cost.value||!r.f.type.value),b.Cb(1),b.Gc(b.jc(2,2,"_Proceed"))}}function Ft(t,e){if(1&t){var n=b.Wb();b.Vb(0,"button",134),b.dc("click",(function(){return b.xc(n),b.hc(2).sendOTPGuest()})),b.Fc(1),b.ic(2,"translate"),b.Ub()}if(2&t){var r=b.hc(2);b.nc("disabled",r.calculatorForm.invalid||!r.f.cost.value||!r.f.type.value||r.userForm.invalid),b.Cb(1),b.Gc(b.jc(2,2,"_Proceed"))}}function At(t,e){if(1&t&&(b.Vb(0,"div",109),b.Vb(1,"div",110),b.Vb(2,"div",6),b.Vb(3,"div",111),b.Vb(4,"h3",112),b.Fc(5),b.ic(6,"translate"),b.Ub(),b.Ub(),b.Vb(7,"div",113),b.Vb(8,"div",114),b.Vb(9,"div",115),b.Qb(10,"img",116),b.Vb(11,"span",98),b.Fc(12),b.Ub(),b.Ub(),b.Vb(13,"div",93),b.Qb(14,"img",117),b.Ub(),b.Vb(15,"div",118),b.Qb(16,"img",119),b.Vb(17,"span",120),b.Fc(18),b.Ub(),b.Ub(),b.Vb(19,"div",121),b.Qb(20,"img",122),b.Ub(),b.Vb(21,"div",123),b.Qb(22,"img",124),b.Vb(23,"span",125),b.Fc(24),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ec(25,yt,12,8,"div",126),b.Vb(26,"div",127),b.Ec(27,_t,3,4,"button",128),b.Ec(28,Ft,3,4,"button",128),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&t){var n=b.hc();b.Cb(5),b.Hc(" ",b.jc(6,7,"_YourShipment"),""),b.Cb(7),b.Gc(n.from),b.Cb(6),b.Gc(n.to),b.Cb(6),b.Gc(n.selectedCategory),b.Cb(1),b.nc("ngForOf",n.appService.types),b.Cb(2),b.nc("ngIf",!n.guest),b.Cb(1),b.nc("ngIf",n.guest)}}var xt=function(){function t(t,e,n,r,i,c,a){this.dialog=t,this.fb=e,this.appService=n,this.toastr=r,this.restService=i,this.translate=c,this.fuseSplashScreenService=a,this.isDone=!1,this.isNewAddress=!1,this.isToAddress=!1,this.guest=!1}return Object.defineProperty(t.prototype,"f",{get:function(){return this.calculatorForm.controls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAddress",{get:function(){return this.StartAddress.controls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toAddress",{get:function(){return this.endAddress.controls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"c",{get:function(){return this.costForm.controls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.userForm.controls},enumerable:!0,configurable:!0}),t.prototype.prepareForm=function(){this.calculatorForm=this.fb.group({from:["",i.s.required],to:["",i.s.required],subCategory:["",i.s.required],weight:[""],comments:[""],cost:[""],other:[""],type:[""]}),this.userForm=this.fb.group({first_name:["",i.s.required],last_name:["",i.s.required],email:["",[i.s.required,i.s.email]],phone:["",[i.s.required,i.s.minLength(9),i.s.pattern(/^[1-9][0-9]*$/)]]}),this.costForm=this.fb.group({from:["",i.s.required],to:["",i.s.required],category:[""]}),this.StartAddress=this.fb.group({phone:["",[i.s.required,i.s.minLength(9),i.s.pattern(/^[1-9][0-9]*$/)]],city:["",i.s.required],area:["",i.s.required],street:[""],floor:[""],building:["",i.s.required],locationText:["",i.s.required],apartment:[""],additional:[""],type:["",i.s.required],name:["",i.s.required],lng:["",i.s.required],lat:["",i.s.required]}),this.endAddress=this.fb.group({phone:["",[i.s.required,i.s.minLength(9),i.s.pattern(/^[1-9][0-9]*$/)]],city:["",i.s.required],area:["",i.s.required],street:[""],floor:[""],building:["",i.s.required],locationText:["",i.s.required],apartment:[""],additional:[""],type:["",i.s.required],lng:["",i.s.required],lat:["",i.s.required],name:["",i.s.required]})},t.prototype.selectCity=function(){var t=this,e=this.appService.cities.filter((function(e){return e._id===t.startAddress.city.value}));e.length&&(this.from=e[0].title);var n=this.appService.cities.filter((function(e){return e._id===t.toAddress.city.value}));n.length&&(this.to=n[0].title)},t.prototype.ngOnInit=function(){var t=this;if(scrollTo(0,0),this.fuseSplashScreenService.hide(),this.prepareForm(),window.scroll(0,0),this.appService.shipment){var e=this.appService.shipment;this.startAddress.city.setValue(e.from),this.toAddress.city.setValue(e.to),this.f.subCategory.setValue(e.subCategory),this.f.comments.setValue(e.comments),this.f.weight.setValue(e.weight),this.f.type.setValue(e.type),this.f.cost.setValue(e.cost),this.selectedCategory=e.selectedCategory,this.selectCity()}this.startAddress.type.setValue(1),this.toAddress.type.setValue(1),this.appService.isUserLoggedIn.subscribe((function(e){e?t.isLogin=!0:(t.isNewAddress=!0,t.isToAddress=!0,t.guestDialog())}))},t.prototype.listAddress=function(t){var e=this;this.dialog.open(h).afterClosed().subscribe((function(n){n&&("from"===t?(e.f.from.setValue(n._id),e.c.from.setValue(n.cityObj._id),e.fromAddress=n,e.from=n.cityObj.title):(e.f.to.setValue(n._id),e.c.to.setValue(n.cityObj._id),e.targetAddress=n,e.to=n.cityObj.title))}))},t.prototype.calculator=function(){var t=this;this.isDone=!0,this.restService.calculateCost(this.costForm.value).then((function(e){+e.cost?t.f.cost.setValue(+e.cost):t.toastr.error("We are not offer delivery for this area")})).catch((function(e){e.status&&401===e.error.code&&t.restService.refreshTokenUser()}))},t.prototype.openMap=function(t){var e=this;this.dialog.open(c.a).afterClosed().subscribe((function(n){n&&(console.log(n),"from"===t?(e.startAddress.lng.setValue(n.longitude),e.startAddress.lat.setValue(n.latitude),e.startAddress.locationText.setValue(n.locationText)):(e.toAddress.lng.setValue(n.longitude),e.toAddress.lat.setValue(n.latitude),e.toAddress.locationText.setValue(n.locationText)))}))},t.prototype.addAddress=function(t){var e=this;this.restService.addAddress("from"===t?this.StartAddress.value:this.endAddress.value).then((function(n){e.isNewAddress=!1,e.isToAddress=!1,"from"===t?(e.fromAddress=n.data,e.f.from.setValue(n.data._id)):(e.targetAddress=n.data,e.f.to.setValue(n.data._id))})).catch((function(t){t.status&&e.toastr.error(t.error.message,"")}))},t.prototype.createShipment=function(){var t=this;this.restService.createShipment(this.calculatorForm.value).then((function(e){t.calculatorForm.reset(),t.StartAddress.reset(),t.endAddress.reset(),t.costForm.reset(),t.fromAddress=null,t.targetAddress=null,t.f.weight.setValue(""),t.f.comments.setValue(""),t.toastr.success("The Shipment has been created successfully","")})).catch((function(e){e.status&&t.toastr.error(e.error.message,"")}))},t.prototype.guestDialog=function(){var t=this;this.dialog.open(C).afterClosed().subscribe((function(e){e&&(t.guest=!0,t.f.from.setValue("111"),t.f.to.setValue("111"),window.scroll(0,0))}))},t.prototype.sendOTPGuest=function(){var t=this,e=new s;e.from=this.StartAddress.value,e.to=this.endAddress.value,e.shipment=this.calculatorForm.value,e.user=this.userForm.value,this.restService.sendOTPGuest(this.userForm.value).then((function(n){var r=t.dialog.open(F);r.componentInstance.data=e,r.afterClosed().subscribe((function(e){e&&(window.scroll(0,0),t.toastr.success(t.translate.instant("_YourShipmentSentSuccessfully"),""),t.calculatorForm.reset(),t.StartAddress.reset(),t.endAddress.reset(),t.costForm.reset(),t.userForm.reset())}))})).catch((function(e){e.status&&t.toastr.error(400===e.status?t.translate.instant("_SendMessageError"):e.error.message,"")}))},t.\u0275fac=function(e){return new(e||t)(b.Pb(l.b),b.Pb(i.c),b.Pb(a.a),b.Pb(d.b),b.Pb(o.a),b.Pb(m.d),b.Pb(A.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-new-shipment"]],decls:69,vars:41,consts:[[1,"container-fluid","new-shipment"],[1,"row","bg-shipment"],[1,"col-md-12","text-center","py-5"],[1,"text-white"],[1,"row","py-5"],[1,"container"],[1,"row"],[1,"text-center","mb-4","w-100"],["class","w-100 mb-4",4,"ngIf"],[1,"col-md-6","my-3"],[3,"expanded"],[1,"icon"],["src","assets/images/icon/step2.png","alt","",3,"ngClass"],[1,"mx-2"],["class","px-3 d-flex justify-content-between  py-4 align-items-center flex-wrap my-2",4,"ngIf"],[4,"ngIf"],["class","px-3 d-flex justify-content-between py-4 align-items-center flex-wrap my-2",4,"ngIf"],[1,"row","py-5","bg-success"],[1,"col-md-12"],[1,"d-flex","justify-content-center","m-auto"],[1,"icon",3,"ngClass"],["src","assets/images/icon/step3.png","alt","",1,""],[1,"input-group","my-auto","radius-10","mx-3"],[1,"w-100"],[1,""],["class","col-md-4 mt-4",4,"ngFor","ngForOf"],[1,"row","mt-5"],["dir","ltr",1,"col-md-6","weight"],[1,"font-weight-normal","text-uppercase"],[1,"text-primary"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["src","assets/images/icon/kg.png","alt",""],["type","number","min","0",1,"form-control","border-0",3,"value","change"],[1,"input-group-append","bg-white","kg"],[1,"input-group-text","bg-primary","text-white","border-white"],[1,"col-md-6","calculate-button-div"],["class","btn btn-secondary  calculate-button  radius-10  w-100 radius-8",3,"disabled","ngClass","click",4,"ngIf"],["class","btn btn-secondary bg-white  radius-10 text-primary w-100 radius-8",3,"disabled","click",4,"ngIf"],["class","row bg-shipment py-5",4,"ngIf"],[1,"w-100","mb-4"],[1,"px-2"],[1,"w-100",3,"formGroup"],[1,"d-flex","flex-wrap"],["appearance","legacy",1,"w-100","text-left","mx-4"],["matInput","","placeholder","","formControlName","first_name"],["matSuffix",""],["appearance","legacy",1,"text-left","w-100","mx-4"],["matInput","","placeholder","","formControlName","last_name"],["matInput","","placeholder","","formControlName","email"],[1,"text-left","w-100","mx-4"],["matPrefix",""],["type","tel","matInput","","placeholder","554 5***","formControlName","phone","maxlength","9"],[1,"px-3","d-flex","justify-content-between","py-4","align-items-center","flex-wrap","my-2"],[1,"btn","btn-secondary","bg-white","text-primary",3,"click"],[1,"font-weight-normal"],[3,"click"],[1,"btn","btn-secondary","bg-white","text-primary","my-2"],["aria-hidden","true",1,"fa","fa-plus-circle","mx-1"],[1,"w-100","position-relative","mb-3"],["src","assets/images/map.PNG","alt","",1,"w-100"],[1,"position-absolute","select-location"],[1,"btn","btn-primary","radius-15",3,"ngClass","click"],["class","px-3 pb-4",3,"formGroup","dir",4,"ngIf"],[1,"px-3","pb-4",3,"formGroup","dir"],[1,"d-flex","mt-5"],[1,"border","radius-8","mx-2","p-2",2,"cursor","pointer",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-home",3,"ngClass"],["aria-hidden","true",1,"fa","fa-briefcase",3,"ngClass"],[1,"w-100","mt-3"],["formControlName","city",3,"selectionChange"],[3,"value","click",4,"ngFor","ngForOf"],[1,"w-100","text-left"],["matInput","","formControlName","name"],["class","w-100",4,"ngIf"],["class","text-danger text-primary",4,"ngIf"],["class","text-danger",4,"ngIf"],["matInput","","formControlName","building"],["matInput","","formControlName","area"],["matInput","","formControlName","street"],[1,"optinal"],["matInput","","formControlName","additional"],["class","mt-3",4,"ngIf"],[3,"value","click"],["matInput","","type","text","formControlName","apartment"],[1,"text-danger","text-primary"],["matInput","","type","text","formControlName","floor"],[1,"text-danger"],[1,"mt-3"],[1,"btn","btn-primary",3,"disabled","click"],[1,"d-flex"],["aria-hidden","true",1,"fa","fa-map-marker","text-primary","mr-4"],["aria-hidden","true",1,"fa","fa-phone","text-primary","mr-4"],[1,"m-auto"],[1,"col-md-4","mt-4"],["multi",""],[1,"my-2","bg-success",3,"expanded"],["alt","",3,"src"],[1,"mx-1"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","border-bottom","py-1",3,"click"],[1,"sub-cat"],[1,"text-left","mb-1",2,"cursor","pointer"],["alt","",1,"mr-4",3,"src"],[1,"bg-white","radius-8","p-1","check"],[1,"rounded-circle","w-100","h-100","m-auto",3,"ngClass"],["type","text","rows","3",1,"mt-3","w-100","radius-8","p-2",3,"value","placeholder","keyup"],[1,"btn","btn-secondary","calculate-button","radius-10","w-100","radius-8",3,"disabled","ngClass","click"],[1,"btn","btn-secondary","bg-white","radius-10","text-primary","w-100","radius-8",3,"disabled","click"],[1,"row","bg-shipment","py-5"],[1,"container","bg-white","radius-15"],[1,"col-md-12","px-5","text-uppercase","text-center","bg-primary"],[1,"text-white","py-5"],[1,"col-md-12","px-5","bg-white","result","p-4","mt-4","radius-15"],[1,"d-flex","w-100","justify-content-between","text-primary","info-shipment"],[1,"my-auto","location","text-center"],["src","assets/images/icon/from-location.png","alt","",1,"h-75"],["src","assets/images/icon/arrow.png","alt","",1,""],[1,"location","m-auto","text-center"],["src","assets/images/icon/to-location.png","alt","",1,"h-75","mx-1"],[1,"mx-1","h-75"],[1,"m-auto","text-center"],["src","assets/images/icon/arrow.png","alt","",1,"mx-1"],[1,"my-auto","location"],["src","assets/images/icon/weight-shipment.png","alt","",1,"h-75"],[1,"category","text-center"],["class","col-md-6 px-5 ","style","cursor: pointer",4,"ngFor","ngForOf"],[1,"col-md-12","mb-5","text-center","mt-5"],["class","btn btn-secondary px-5 bg-white text-primary radius-15 mx-2 proceed-button",3,"disabled","click",4,"ngIf"],[1,"col-md-6","px-5",2,"cursor","pointer"],[1,"radius-15","d-flex","justify-content-between","p-3",3,"ngClass","click"],[1,"duration","text-center","radius-15","m-auto","p-2"],["alt","",1,"w-50","h-auto",3,"src"],[1,"p-2","price","m-auto"],[1,"btn","btn-secondary","px-5","bg-white","text-primary","radius-15","mx-2","proceed-button",3,"disabled","click"]],template:function(t,e){1&t&&(b.Vb(0,"div",0),b.Vb(1,"div",1),b.Vb(2,"div",2),b.Vb(3,"h1",3),b.Fc(4),b.ic(5,"translate"),b.Ub(),b.Ub(),b.Ub(),b.Vb(6,"div",4),b.Vb(7,"div",5),b.Vb(8,"div",6),b.Vb(9,"div",7),b.Vb(10,"p"),b.Fc(11),b.ic(12,"translate"),b.Ub(),b.Ub(),b.Ec(13,I,45,24,"div",8),b.Vb(14,"div",9),b.Vb(15,"mat-expansion-panel",10),b.Vb(16,"mat-expansion-panel-header"),b.Vb(17,"mat-panel-title",11),b.Qb(18,"img",12),b.Vb(19,"span",13),b.Fc(20),b.ic(21,"translate"),b.Ub(),b.Ub(),b.Ub(),b.Ec(22,M,13,9,"div",14),b.Ec(23,J,9,4,"div",15),b.Ec(24,Y,10,9,"div",15),b.Ub(),b.Ub(),b.Vb(25,"div",9),b.Vb(26,"mat-expansion-panel",10),b.Vb(27,"mat-expansion-panel-header"),b.Vb(28,"mat-panel-title",11),b.Qb(29,"img",12),b.Vb(30,"span",13),b.Fc(31),b.ic(32,"translate"),b.Ub(),b.Ub(),b.Ub(),b.Ec(33,B,13,9,"div",16),b.Ec(34,ft,9,4,"div",15),b.Ec(35,gt,10,9,"div",15),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(36,"div",17),b.Vb(37,"div",5),b.Vb(38,"div",6),b.Vb(39,"div",18),b.Vb(40,"div",19),b.Vb(41,"div",20),b.Qb(42,"img",21),b.Ub(),b.Vb(43,"div",22),b.Vb(44,"div",23),b.Vb(45,"label",24),b.Fc(46),b.ic(47,"translate"),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ec(48,Ct,13,11,"div",25),b.Ub(),b.Vb(49,"div",26),b.Vb(50,"div",27),b.Vb(51,"h6",28),b.Fc(52),b.ic(53,"translate"),b.Vb(54,"span",29),b.Fc(55),b.ic(56,"translate"),b.Ub(),b.Ub(),b.Vb(57,"div",30),b.Vb(58,"div",31),b.Qb(59,"img",32),b.Ub(),b.Vb(60,"input",33),b.dc("change",(function(t){return e.f.weight.setValue(t.target.value)})),b.Ub(),b.Vb(61,"div",34),b.Vb(62,"span",35),b.Fc(63),b.ic(64,"translate"),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(65,"div",36),b.Ec(66,Vt,3,5,"button",37),b.Ec(67,Ut,3,4,"button",38),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ec(68,At,29,9,"div",39),b.Ub()),2&t&&(b.Cb(4),b.Hc("",b.jc(5,25,"_NewShipment")," "),b.Cb(7),b.Gc(b.jc(12,27,"_PutShippingItemInformation")),b.Cb(2),b.nc("ngIf",e.guest),b.Cb(2),b.nc("expanded",!0),b.Cb(3),b.nc("ngClass",e.fromAddress?"bg-primary":""),b.Cb(2),b.Gc(b.jc(21,29,"_PickupAddress")),b.Cb(2),b.nc("ngIf",e.isLogin),b.Cb(1),b.nc("ngIf",e.isNewAddress),b.Cb(1),b.nc("ngIf",e.fromAddress),b.Cb(2),b.nc("expanded",!0),b.Cb(3),b.nc("ngClass",e.targetAddress?"bg-primary":""),b.Cb(2),b.Gc(b.jc(32,31,"_DropOffAddress")),b.Cb(2),b.nc("ngIf",e.isLogin),b.Cb(1),b.nc("ngIf",e.isToAddress),b.Cb(1),b.nc("ngIf",e.targetAddress),b.Cb(6),b.nc("ngClass",e.f.subCategory.value?"active":""),b.Cb(5),b.Gc(b.jc(47,33,"_ParcelCategories")),b.Cb(2),b.nc("ngForOf",e.appService.categories),b.Cb(4),b.Hc("",b.jc(53,35,"_TotalWeight")," "),b.Cb(3),b.Hc("(",b.jc(56,37,"_Optional"),")"),b.Cb(5),b.nc("value",e.f.weight.value),b.Cb(3),b.Gc(b.jc(64,39,"_KG")),b.Cb(3),b.nc("ngIf",!e.guest),b.Cb(1),b.nc("ngIf",e.guest),b.Cb(1),b.nc("ngIf",e.f.cost.value))},directives:[r.k,x.c,x.e,x.f,r.i,r.j,u.b,i.u,i.m,i.f,V.c,V.f,U.b,i.b,i.l,i.e,y.a,V.h,V.b,V.g,i.h,w.a,j.j,x.a,x.d],pipes:[m.c],styles:["[lang=ar]{direction:rtl}[lang=ar][_ngcontent-%COMP%]   .mr-auto[_ngcontent-%COMP%]{margin-left:auto!important}[lang=ar][_ngcontent-%COMP%]   .mr-1[_ngcontent-%COMP%]{margin-left:.25rem!important;margin-right:0!important}[lang=ar][_ngcontent-%COMP%]   .mr-2[_ngcontent-%COMP%]{margin-left:.5rem!important;margin-right:0!important}[lang=ar][_ngcontent-%COMP%]   .mr-3[_ngcontent-%COMP%]{margin-left:1rem!important;margin-right:0!important}[lang=ar][_ngcontent-%COMP%]   .mr-4[_ngcontent-%COMP%]{margin-left:1.5rem!important;margin-right:0!important}[lang=ar][_ngcontent-%COMP%]   .mr-5[_ngcontent-%COMP%]{margin-left:3rem!important;margin-right:0!important}[lang=ar][_ngcontent-%COMP%]   .ml-auto[_ngcontent-%COMP%]{margin-right:auto!important}[lang=ar][_ngcontent-%COMP%]   .ml-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:0!important}[lang=ar][_ngcontent-%COMP%]   .ml-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:0!important}[lang=ar][_ngcontent-%COMP%]   .ml-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:0!important}[lang=ar][_ngcontent-%COMP%]   .ml-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:0!important}[lang=ar][_ngcontent-%COMP%]   .ml-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:0!important}[lang=ar][_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{text-align:right!important}[lang=ar][_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:left!important}.new-shipment[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:#000;padding:12px;border-radius:50%;width:3.8rem}.new-shipment[_ngcontent-%COMP%]   .bg-gray[_ngcontent-%COMP%]{background:#c0c2c5}.new-shipment[_ngcontent-%COMP%]   .calculate-button[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#5f5d5d!important}.new-shipment[_ngcontent-%COMP%]   .calculate-button-div[_ngcontent-%COMP%]{padding-top:30px}.new-shipment[_ngcontent-%COMP%]   .proceed-button[_ngcontent-%COMP%]:not(:disabled){background:#ff5100!important;color:#fff!important}.new-shipment[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:20px}.new-shipment[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{align-items:center}.new-shipment[_ngcontent-%COMP%]   .bg-shipment[_ngcontent-%COMP%]{background-image:url(payment-type.b5eb18bec86961196542.jpg)}.new-shipment[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:#ff5100!important}.new-shipment[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:33px!important}.new-shipment[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:#fff;border-bottom-left-radius:3px;border-top-left-radius:3px}.new-shipment[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-bottom-right-radius:3px;border-top-right-radius:3px}.new-shipment[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:85px!important}.new-shipment[_ngcontent-%COMP%]   .pac-container[_ngcontent-%COMP%]{z-index:9999}.new-shipment[_ngcontent-%COMP%]   .select-location[_ngcontent-%COMP%]{bottom:-18px;left:30%}.new-shipment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff5100}.new-shipment[_ngcontent-%COMP%]   .sub-cat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.7rem}.new-shipment[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem}"]}),t}(),wt=n("LSHg"),jt=[{path:"new-shipment",component:xt}],Ot=function(){function t(){}return t.\u0275mod=b.Nb({type:t}),t.\u0275inj=b.Mb({factory:function(e){return new(e||t)},imports:[[r.b,v.h.forChild(jt),m.b,i.q,i.g,x.b,V.e,U.c,w.b,wt.a.forRoot({apiKey:"AIzaSyD7HvvWPuPC6h0lo42MPvCANnTHSnf0Jp8",libraries:["places"]}),y.b]]}),t}()}}]);