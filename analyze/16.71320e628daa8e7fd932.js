(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{NC1W:function(t,n,i){"use strict";i.r(n),i.d(n,"TrackingModule",(function(){return L}));var e=i("Ip0R"),a=i("CcnG"),c=i("fvl4"),r=i("3iKN"),s=function(){function t(t,n){this.firestore=t,this.db=n}return t.prototype.tracking=function(t){return this.db.object("/trackings/"+t).valueChanges()},t.\u0275fac=function(n){return new(n||t)(a.Zb(c.a),a.Zb(r.a))},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),o=i("Pe/6"),g=i("F5nt"),l=i("d5t/"),p=i("ZYCi"),b=i("TgDH"),u=i("LSHg"),m=function(){return{width:40,height:30}},f=function(t,n){return{url:t,scaledSize:n}},d=function(){function t(t,n){this.placesService=t,this.appService=n,this.lat=24.3523893,this.lng=55.0770667}return t.prototype.getPlaces=function(t){var n=this;this.placesService.tracking(t).subscribe((function(t){n.place=t}))},t.prototype.ngOnInit=function(){this.getPlaces(this.data._id),this.from=this.data.fromObj,this.to=this.data.toObj,this.lat=+this.data.fromObj.lat,this.lng=+this.data.fromObj.lng},t.\u0275fac=function(n){return new(n||t)(a.Pb(s),a.Pb(g.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-tracking-map"]],inputs:{data:"data"},decls:6,vars:14,consts:[[1,"places"],[1,"map"],[3,"latitude","longitude","zoom"],[3,"latitude","longitude"],[3,"latitude","longitude","iconUrl"]],template:function(t,n){1&t&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"agm-map",2),a.Qb(3,"agm-marker",3),a.Qb(4,"agm-marker",4),a.Qb(5,"agm-marker",3),a.Ub(),a.Ub(),a.Ub()),2&t&&(a.Cb(2),a.nc("latitude",n.lat)("longitude",n.lng)("zoom",8),a.Cb(1),a.nc("latitude",(null==n.from?null:n.from.lat)-0)("longitude",(null==n.from?null:n.from.lng)-0),a.Cb(1),a.nc("latitude",(null==n.place?null:n.place.latitude)-0)("longitude",(null==n.place?null:n.place.longitude)-0)("iconUrl",a.sc(11,f,n.appService.fileUrl+n.data.subCategoryObj.categoryObj.icon,a.qc(10,m))),a.Cb(1),a.nc("latitude",(null==n.to?null:n.to.lat)-0)("longitude",(null==n.to?null:n.to.lng)-0))},directives:[u.b,u.c],styles:["agm-map[_ngcontent-%COMP%]{height:70vh}"]}),t}(),h=i("A7o+");function C(t,n){1&t&&(a.Vb(0,"p",11),a.Fc(1),a.ic(2,"translate"),a.Ub()),2&t&&(a.Cb(1),a.Gc(a.jc(2,1,"_Pending")))}function v(t,n){1&t&&(a.Vb(0,"p",11),a.Fc(1),a.ic(2,"translate"),a.Ub()),2&t&&(a.Cb(1),a.Gc(a.jc(2,1,"_Dispatched")))}function _(t,n){1&t&&(a.Vb(0,"p",11),a.Fc(1),a.ic(2,"translate"),a.Ub()),2&t&&(a.Cb(1),a.Gc(a.jc(2,1,"_OnWay")))}function O(t,n){1&t&&(a.Vb(0,"p",11),a.Fc(1),a.ic(2,"translate"),a.Ub()),2&t&&(a.Cb(1),a.Gc(a.jc(2,1,"_Completed")))}function P(t,n){1&t&&(a.Vb(0,"p",11),a.Fc(1),a.ic(2,"translate"),a.Ub()),2&t&&(a.Cb(1),a.Gc(a.jc(2,1,"_Canceled")))}function k(t,n){1&t&&(a.Vb(0,"div",12),a.Qb(1,"ngx-shimmer-loading",13),a.Ub()),2&t&&(a.Cb(1),a.nc("shape","square")("width","100%"))}function y(t,n){1&t&&a.Qb(0,"img",23)}function M(t,n){1&t&&a.Qb(0,"img",24)}function w(t,n){1&t&&a.Qb(0,"img",25)}function I(t,n){1&t&&a.Qb(0,"img",23)}function U(t,n){1&t&&a.Qb(0,"img",24)}function V(t,n){1&t&&a.Qb(0,"img",25)}function S(t,n){1&t&&a.Qb(0,"img",23)}function j(t,n){if(1&t&&(a.Vb(0,"div",14),a.Vb(1,"div",15),a.Qb(2,"img",16),a.Ec(3,y,1,0,"img",17),a.Vb(4,"p",18),a.Fc(5),a.ic(6,"translate"),a.Ub(),a.Ub(),a.Vb(7,"div"),a.Ec(8,M,1,0,"img",19),a.Ec(9,w,1,0,"img",20),a.Ub(),a.Vb(10,"div",15),a.Qb(11,"img",21),a.Ec(12,I,1,0,"img",17),a.Vb(13,"p",18),a.Fc(14),a.ic(15,"translate"),a.Ub(),a.Ub(),a.Vb(16,"div"),a.Ec(17,U,1,0,"img",19),a.Ec(18,V,1,0,"img",20),a.Ub(),a.Vb(19,"div",15),a.Qb(20,"img",22),a.Vb(21,"p",18),a.Fc(22),a.ic(23,"translate"),a.Ub(),a.Ec(24,S,1,0,"img",17),a.Ub(),a.Ub()),2&t){var i=a.hc();a.Cb(3),a.nc("ngIf",i.status>=1),a.Cb(2),a.Gc(a.jc(6,10,"_Dispatched")),a.Cb(3),a.nc("ngIf",0===i.status),a.Cb(1),a.nc("ngIf",0!=i.status),a.Cb(3),a.nc("ngIf",i.status>=2),a.Cb(2),a.Gc(a.jc(15,12,"_OnWay")),a.Cb(3),a.nc("ngIf",i.status<2),a.Cb(1),a.nc("ngIf",i.status>=2),a.Cb(4),a.Gc(a.jc(23,14,"_Delivered")),a.Cb(2),a.nc("ngIf",3==i.status)}}function x(t,n){if(1&t&&(a.Vb(0,"div",26),a.Vb(1,"a",27),a.Fc(2),a.ic(3,"translate"),a.Ub(),a.Ub()),2&t){var i=a.hc();a.Cb(1),a.nc("routerLink","/account/shipment-details/"+i.id),a.Cb(1),a.Gc(a.jc(3,2,"_GoToDetails"))}}function E(t,n){if(1&t&&a.Qb(0,"app-tracking-map",28),2&t){var i=a.hc();a.nc("data",i.data)}}var Q=function(){function t(t,n,i,e,a){this.placesService=t,this.activatedRouter=n,this.appService=i,this.fuseSplashScreenService=e,this.restService=a,this.status=0,this.isLogin=!1,this.isplaceholder=!0}return t.prototype.ngOnInit=function(){var t=this;this.activatedRouter.params.subscribe((function(n){t.getShipment(n.id)})),this.appService.isUserLoggedIn.subscribe((function(n){n&&(t.isLogin=!0)}))},t.prototype.getShipment=function(t){var n=this;this.fuseSplashScreenService.hide(),window.scroll(0,0),this.restService.getShipmentByTag(t).then((function(t){n.data=t,n.status=t.status,n.id=t._id,n.isplaceholder=!1})).catch((function(t){t.status&&401===t.error.code&&n.restService.refreshTokenUser()}))},t.\u0275fac=function(n){return new(n||t)(a.Pb(s),a.Pb(p.a),a.Pb(g.a),a.Pb(l.a),a.Pb(o.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-tracking"]],decls:20,vars:12,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","text-center","py-5","bg-success"],["src","assets/images/tracking/status.svg","alt","",1,"w-3"],["class","mt-2",4,"ngIf"],[1,"container"],[1,"col-m-12","py-5"],["class","w-100 action loader p-1",4,"ngIf"],["class","d-flex",4,"ngIf"],["class","col-md-12 text-center py-5",4,"ngIf"],[3,"data",4,"ngIf"],[1,"mt-2"],[1,"w-100","action","loader","p-1"],[1,"place-content",3,"shape","width"],[1,"d-flex"],[1,"position-relative"],["src","assets/images/tracking/pickup.svg","alt","",1,"w-100"],["src","assets/images/tracking/check.png","class"," position-absolute check","alt","",4,"ngIf"],[1,"text-center"],["src","assets/images/tracking/line-off.svg","class","w-100","alt","",4,"ngIf"],["src","assets/images/tracking/line-on.svg","class","w-100","alt","",4,"ngIf"],["src","assets/images/tracking/way.svg","alt","",1,"w-100"],["src","assets/images/tracking/delivered.svg","alt","",1,"w-100"],["src","assets/images/tracking/check.png","alt","",1,"position-absolute","check"],["src","assets/images/tracking/line-off.svg","alt","",1,"w-100"],["src","assets/images/tracking/line-on.svg","alt","",1,"w-100"],[1,"col-md-12","text-center","py-5"],[1,"btn","btn-primary","text-white",3,"routerLink"],[3,"data"]],template:function(t,n){1&t&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"p"),a.Fc(4),a.ic(5,"translate"),a.Ub(),a.Qb(6,"img",3),a.Ec(7,C,3,3,"p",4),a.Ec(8,v,3,3,"p",4),a.Ec(9,_,3,3,"p",4),a.Ec(10,O,3,3,"p",4),a.Ec(11,P,3,3,"p",4),a.Ub(),a.Ub(),a.Vb(12,"div",1),a.Vb(13,"div",5),a.Vb(14,"div",1),a.Vb(15,"div",6),a.Ec(16,k,2,2,"div",7),a.Ec(17,j,25,16,"div",8),a.Ub(),a.Ec(18,x,4,4,"div",9),a.Ub(),a.Ub(),a.Ub(),a.Ec(19,E,1,1,"app-tracking-map",10),a.Ub()),2&t&&(a.Cb(4),a.Hc("",a.jc(5,10,"_ShipmentStatus")," "),a.Cb(3),a.nc("ngIf",0==n.status),a.Cb(1),a.nc("ngIf",1==n.status),a.Cb(1),a.nc("ngIf",2==n.status),a.Cb(1),a.nc("ngIf",3==n.status),a.Cb(1),a.nc("ngIf",4==n.status),a.Cb(5),a.nc("ngIf",n.isplaceholder),a.Cb(1),a.nc("ngIf",n.data),a.Cb(1),a.nc("ngIf",n.isLogin),a.Cb(1),a.nc("ngIf",n.id&&2==n.status))},directives:[e.k,b.b,p.g,d],pipes:[h.c],styles:["[lang=ar]{direction:rtl}[lang=ar][_ngcontent-%COMP%]   .mr-auto[_ngcontent-%COMP%]{margin-left:auto!important}[lang=ar][_ngcontent-%COMP%]   .mr-1[_ngcontent-%COMP%]{margin-left:.25rem!important;margin-right:0!important}[lang=ar][_ngcontent-%COMP%]   .mr-2[_ngcontent-%COMP%]{margin-left:.5rem!important;margin-right:0!important}[lang=ar][_ngcontent-%COMP%]   .mr-3[_ngcontent-%COMP%]{margin-left:1rem!important;margin-right:0!important}[lang=ar][_ngcontent-%COMP%]   .mr-4[_ngcontent-%COMP%]{margin-left:1.5rem!important;margin-right:0!important}[lang=ar][_ngcontent-%COMP%]   .mr-5[_ngcontent-%COMP%]{margin-left:3rem!important;margin-right:0!important}[lang=ar][_ngcontent-%COMP%]   .ml-auto[_ngcontent-%COMP%]{margin-right:auto!important}[lang=ar][_ngcontent-%COMP%]   .ml-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:0!important}[lang=ar][_ngcontent-%COMP%]   .ml-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:0!important}[lang=ar][_ngcontent-%COMP%]   .ml-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:0!important}[lang=ar][_ngcontent-%COMP%]   .ml-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:0!important}[lang=ar][_ngcontent-%COMP%]   .ml-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:0!important}[lang=ar][_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{text-align:right!important}[lang=ar][_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:left!important}agm-map[_ngcontent-%COMP%]{height:70vh}.w-3[_ngcontent-%COMP%]{width:3rem}.check[_ngcontent-%COMP%]{border:1px solid #ff5100;height:23px;width:30px;border-radius:5px;padding:2px;left:5px;top:0}.loader[_ngcontent-%COMP%]{height:170px}"]}),t}(),G=i("t/Na"),F=[{path:"tracking/:id",component:Q}],L=function(){function t(){}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(n){return new(n||t)},imports:[[e.b,G.c,p.h.forChild(F),h.b,u.a,b.a]]}),t}()},"d5t/":function(t,n,i){"use strict";i.d(n,"a",(function(){return g}));var e=i("Ip0R"),a=i("ihYY"),c=i("ZYCi"),r=i("VnD/"),s=i("t9fZ"),o=i("CcnG"),g=function(){function t(t,n,i){this._animationBuilder=t,this._document=n,this._router=i,this._init()}return t.prototype.show=function(){var t=this;this.player=this._animationBuilder.build([Object(a.k)({opacity:"0",zIndex:"99999"}),Object(a.e)("400ms ease",Object(a.k)({opacity:"1"}))]).create(this.splashScreenEl),setTimeout((function(){t.player.play()}),0)},t.prototype.hide=function(){var t=this;this.player=this._animationBuilder.build([Object(a.k)({opacity:"1"}),Object(a.e)("400ms ease",Object(a.k)({opacity:"0",zIndex:"-10"}))]).create(this.splashScreenEl),setTimeout((function(){t.player.play()}),0)},t.prototype._init=function(){this.splashScreenEl=this._document.body.querySelector("#fuse-splash-screen"),this.splashScreenEl&&this._router.events.pipe(Object(r.a)((function(t){return t instanceof c.b})),Object(s.a)(1)).subscribe((function(){setTimeout((function(){}),5e3)}))},t.\u0275fac=function(n){return new(n||t)(o.Zb(a.b),o.Zb(e.c),o.Zb(c.d))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);